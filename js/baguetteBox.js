/*!
 * baguetteBox.js
 * @author  feimosi
 * @version 1.5.0
 * @url https://github.com/feimosi/baguetteBox.js
 */
!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.baguetteBox=t()}(this,(function(){var e,t,n,o,i,a,r='<svg width="44" height="60"><polyline points="30 10 10 30 30 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/></svg>',l='<svg width="44" height="60"><polyline points="14 10 34 30 14 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/></svg>',s='<svg width="30" height="30"><g stroke="rgb(160, 160, 160)" stroke-width="4"><line x1="5" y1="5" x2="25" y2="25"/><line x1="5" y1="25" x2="25" y2="5"/></g></svg>',c={},u={captions:!0,fullScreen:!1,noScrollbars:!1,titleTag:!1,buttons:"auto",async:!1,preload:2,animation:"slideIn",afterShow:null,afterHide:null,onChange:null,overlayBackgroundColor:"rgba(0, 0, 0, .8)"},d={},f=0,g=-1,m=!1,p=/.+\.(gif|jpe?g|png|webp)/i,h=[],v=[],y=[],b={},k=function(e){e.target&&"IMG"!==e.target.nodeName&&"FIGCAPTION"!==e.target.nodeName&&S()},w=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,L()},C=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,I()},E=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,S()},T=function(e){a=e.changedTouches[0].pageX},x=function(e){m||(e.preventDefault?e.preventDefault():e.returnValue=!1,touch=e.touches[0]||e.changedTouches[0],touch.pageX-a>40?(m=!0,L()):touch.pageX-a<-40&&(m=!0,I()))},N=function(e){m=!1};function B(e){switch(e.keyCode){case 37:L();break;case 39:I();break;case 27:S()}}function S(){c.noScrollbars&&(document.body.style.overflow="auto"),"none"!==e.style.display&&(A(document,"keydown",B),e.className="",setTimeout((function(){e.style.display="none",document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen(),c.afterHide&&c.afterHide()}),500))}function F(e,t){var n=y[e];if(void 0!==n)if(n.getElementsByTagName("img")[0])t&&t();else{imageElement=v[g][e],imageCaption="function"==typeof c.captions?c.captions.call(v[g],imageElement):imageElement.getAttribute("data-caption")||imageElement.title,imageSrc=function(e){var t=imageElement.href;if(e.dataset){var n=[];for(var o in e.dataset)"at-"!==o.substring(0,3)||isNaN(o.substring(3))||(n[o.replace("at-","")]=e.dataset[o]);keys=Object.keys(n).sort((function(e,t){return parseInt(e)<parseInt(t)?-1:1}));for(var i=window.innerWidth*window.devicePixelRatio,a=0;a<keys.length-1&&keys[a]<i;)a++;t=n[keys[a]]||t}return t}(imageElement);var o=j("figure"),i=j("img"),a=j("figcaption");n.appendChild(o),o.innerHTML='<div class="spinner"><div class="double-bounce1"></div><div class="double-bounce2"></div></div>',i.onload=function(){var n=document.querySelector("#baguette-img-"+e+" .spinner");o.removeChild(n),!c.async&&t&&t()},i.setAttribute("src",imageSrc),c.titleTag&&imageCaption&&(i.title=imageCaption),o.appendChild(i),c.captions&&imageCaption&&(a.innerHTML=imageCaption,o.appendChild(a)),c.async&&t&&t()}}function I(){var e;return f<=y.length-2?(f++,P(),H(f),e=!0):c.animation&&(t.className="bounce-from-right",setTimeout((function(){t.className=""}),400),e=!1),c.onChange&&c.onChange(f,y.length),e}function L(){var e;return f>=1?(f--,P(),q(f),e=!0):c.animation&&(t.className="bounce-from-left",setTimeout((function(){t.className=""}),400),e=!1),c.onChange&&c.onChange(f,y.length),e}function P(){var e=100*-f+"%";"fadeIn"===c.animation?(t.style.opacity=0,setTimeout((function(){d.transforms?t.style.transform=t.style.webkitTransform="translate3d("+e+",0,0)":t.style.left=e,t.style.opacity=1}),400)):d.transforms?t.style.transform=t.style.webkitTransform="translate3d("+e+",0,0)":t.style.left=e}function H(e){e-f>=c.preload||F(e+1,(function(){H(e+1)}))}function q(e){f-e>=c.preload||F(e-1,(function(){q(e-1)}))}function M(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function A(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)}function R(e){return document.getElementById(e)}function j(e){return document.createElement(e)}return[].forEach||(Array.prototype.forEach=function(e,t){for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)}),[].filter||(Array.prototype.filter=function(e,t,n,o,i){for(n=this,o=[],i=0;i<n.length;i++)e.call(t,n[i],i,n)&&o.push(n[i]);return o}),{run:function(a,m){var S;d.transforms=void 0!==(S=j("div")).style.perspective||void 0!==S.style.webkitPerspective,d.svg=function(){var e=j("div");return e.innerHTML="<svg/>","http://www.w3.org/2000/svg"==(e.firstChild&&e.firstChild.namespaceURI)}(),function(){if(e=R("baguetteBox-overlay"))return t=R("baguetteBox-slider"),n=R("previous-button"),o=R("next-button"),void(i=R("close-button"));(e=j("div")).id="baguetteBox-overlay",document.getElementsByTagName("body")[0].appendChild(e),(t=j("div")).id="baguetteBox-slider",e.appendChild(t),(n=j("button")).id="previous-button",n.innerHTML=d.svg?r:"&lt;",e.appendChild(n),(o=j("button")).id="next-button",o.innerHTML=d.svg?l:"&gt;",e.appendChild(o),(i=j("button")).id="close-button",i.innerHTML=d.svg?s:"X",e.appendChild(i),n.className=o.className=i.className="baguetteBox-button",M(e,"click",k),M(n,"click",w),M(o,"click",C),M(i,"click",E),M(e,"touchstart",T),M(e,"touchmove",x),M(e,"touchend",N)}(),function(i,a){var r=document.querySelectorAll(i);h.push(r),[].forEach.call(r,(function(i){a&&a.filter&&(p=a.filter);var r=i.getElementsByTagName("a");r=[].filter.call(r,(function(e){return p.test(e.href)}));var l=v.length;v.push(r),v[l].options=a,[].forEach.call(v[l],(function(i,a){var r=function(i){i.preventDefault?i.preventDefault():i.returnValue=!1,function(i){if(g===i)return;g=i,function(i){i||(i={});for(var a in u)c[a]=u[a],void 0!==i[a]&&(c[a]=i[a]);t.style.transition=t.style.webkitTransition="fadeIn"===c.animation?"opacity .4s ease":"slideIn"===c.animation?"":"none","auto"!==c.buttons||!("ontouchstart"in window)&&1!==v[g].length||(c.buttons=!1);n.style.display=o.style.display=c.buttons?"":"none",e.style.backgroundColor=c.overlayBackgroundColor}(v[i].options);for(;t.firstChild;)t.removeChild(t.firstChild);y.length=0;for(var a,r=0;r<v[i].length;r++)(a=j("div")).className="full-image",a.id="baguette-img-"+r,y.push(a),t.appendChild(y[r])}(l),function(t){c.noScrollbars&&(document.body.style.overflow="hidden");if("block"===e.style.display)return;M(document,"keydown",B),F(f=t,(function(){H(f),q(f)})),P(),e.style.display="block",c.fullScreen&&(e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen&&e.mozRequestFullScreen());setTimeout((function(){e.className="visible",c.afterShow&&c.afterShow()}),50),c.onChange&&c.onChange(f,y.length)}(a)};b[l+"_"+i]=r,M(i,"click",r)}))}))}(a,m)},destroy:function(){A(e,"click",k),A(n,"click",w),A(o,"click",C),A(i,"click",E),A(e,"touchstart",T),A(e,"touchmove",x),A(e,"touchend",N),h.forEach((function(e){[].forEach.call(e,(function(e){var t=v.length-1;[].forEach.call(v[t],(function(e,n){A(e,"click",b[t+"_"+e])})),v.pop()}))})),A(document,"keydown",B),document.getElementsByTagName("body")[0].removeChild(document.getElementById("baguetteBox-overlay")),f=0,g=-1,h.length=0,v.length=0},showNext:I,showPrevious:L}}));